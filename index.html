<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>점프맵 (Jump Map)</title>

    <!-- PWA Meta Tags -->
    <meta name="description" content="3D 점프맵 플랫포머 게임 - 20단계를 클리어하세요!">
    <meta name="theme-color" content="#4a90e2">
    <link rel="manifest" href="manifest.json">

    <!-- iOS Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="점프맵">

    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Menu Screen -->
    <div id="menu">
        <div class="menu-content">
            <h1>🎮 점프맵</h1>
            <p class="subtitle">Jump Map Challenge</p>
            <div class="menu-info">
                <p>🎯 목표: 20개의 스테이지를 모두 클리어하세요!</p>
                <br>
                <h3>조작법:</h3>
                <p><strong>💻 PC:</strong></p>
                <ul>
                    <li><strong>WASD</strong> - 이동</li>
                    <li><strong>Space</strong> - 점프</li>
                    <li><strong>마우스</strong> - 시점 회전</li>
                    <li><strong>Shift</strong> - 달리기</li>
                </ul>
                <p><strong>📱 모바일:</strong></p>
                <ul>
                    <li><strong>왼쪽 조이스틱</strong> - 이동</li>
                    <li><strong>화면 스와이프</strong> - 시점 회전</li>
                    <li><strong>점프 버튼</strong> - 점프</li>
                    <li><strong>달리기 버튼</strong> - 빠르게 이동</li>
                </ul>
                <br>
                <h3>발판 종류:</h3>
                <ul class="platform-types">
                    <li>⬜ <strong>일반 발판</strong> - 기본 발판</li>
                    <li>🟢 <strong>슬라임 발판</strong> - 점프력 증가</li>
                    <li>🟡 <strong>점프발판</strong> - 자동 발사</li>
                    <li>🔵 <strong>얼음 발판</strong> - 미끄러짐</li>
                    <li>🔴 <strong>용암 발판</strong> - 빨리 벗어나야 함!</li>
                    <li>🟣 <strong>움직이는 발판</strong> - 이동하는 발판</li>
                </ul>
            </div>
            <button id="start-button" class="menu-button">게임 시작</button>
        </div>
    </div>

    <!-- Game UI (HUD) -->
    <div id="game-ui" style="display: none;">
        <!-- Stage Info -->
        <div id="hud">
            <div class="hud-top">
                <div class="hud-item">
                    <span>스테이지:</span>
                    <span id="stage-number">1 / 20</span>
                </div>
                <div class="hud-item">
                    <span>시간:</span>
                    <span id="timer">0:00</span>
                </div>
            </div>
            <div class="hud-bottom">
                <div class="hud-item">
                    <span>높이:</span>
                    <span id="height">0m</span>
                </div>
            </div>
        </div>

        <!-- Message Display -->
        <div id="message-display"></div>

        <!-- Mobile Controls -->
        <div id="mobile-controls">
            <!-- Movement Joystick -->
            <div id="joystick-container">
                <div id="joystick-base"></div>
                <div id="joystick-stick"></div>
            </div>

            <!-- Jump Button -->
            <button id="mobile-jump-btn">점프</button>

            <!-- Run Button -->
            <button id="mobile-run-btn">달리기</button>
        </div>
    </div>

    <!-- Game Over Screen -->
    <div id="game-over" style="display: none;">
        <div class="screen-content">
            <h1>떨어졌습니다!</h1>
            <p id="game-over-stats">스테이지 1에서 떨어졌습니다.</p>
            <button id="retry-button" class="menu-button">다시 시도</button>
            <button id="menu-button" class="menu-button secondary">메뉴로</button>
        </div>
    </div>

    <!-- Victory Screen -->
    <div id="victory" style="display: none;">
        <div class="screen-content">
            <h1>🎉 축하합니다!</h1>
            <p>모든 스테이지를 클리어했습니다!</p>
            <p id="victory-stats"></p>
            <button id="play-again-button" class="menu-button">다시 하기</button>
        </div>
    </div>

    <!-- Pause Menu -->
    <div id="pause-menu" style="display: none;">
        <div class="screen-content">
            <h2>일시정지</h2>
            <button id="resume-button" class="menu-button">계속하기</button>
            <button id="restart-button" class="menu-button">재시작</button>
            <button id="pause-menu-button" class="menu-button secondary">메인 메뉴</button>
        </div>
    </div>

    <!-- Three.js Library (from CDN) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- Game Script -->
    <script src="game.js"></script>
</body>
</html>
